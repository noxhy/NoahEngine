[gd_scene load_steps=12 format=3 uid="uid://bggq8kbjfwq6b"]

[ext_resource type="Script" uid="uid://b0vmqp1rjpt6n" path="res://scenes/playstate/songs/basic_song.gd" id="1_fcfx0"]
[ext_resource type="PackedScene" uid="uid://l713j3okh2iq" path="res://scenes/playstate/playstate.tscn" id="2_d5rna"]
[ext_resource type="Resource" uid="uid://dmw77m5oxkyig" path="res://assets/sprites/playstate/pixel/pixel_note_skin.tres" id="4_8wb6g"]
[ext_resource type="Resource" uid="uid://dsqgb7q6eq1mf" path="res://assets/sprites/playstate/pixel/pixel_ui_skin.tres" id="5_4pyv7"]
[ext_resource type="PackedScene" uid="uid://s0oblvodh51d" path="res://scenes/instances/playstate/playstate_camera.tscn" id="6_uhlqh"]
[ext_resource type="PackedScene" uid="uid://dm1wcp8xtvqv5" path="res://scenes/instances/stages/evil_school/evil_school.tscn" id="7_ndkga"]
[ext_resource type="Script" uid="uid://b1blhjns06ilt" path="res://scenes/instances/conductor.gd" id="8_ijcj0"]
[ext_resource type="PackedScene" uid="uid://dcuxa2yfg27xc" path="res://scenes/instances/characters/boyfriend pixel.tscn" id="9_rpmc0"]
[ext_resource type="PackedScene" uid="uid://dghi5ce8cupic" path="res://scenes/instances/characters/spirit.tscn" id="10_bowlb"]
[ext_resource type="PackedScene" uid="uid://blyod30lc1qk0" path="res://scenes/instances/characters/girlfriend pixel.tscn" id="11_vat3l"]
[ext_resource type="PackedScene" uid="uid://cigsmwajnw2jq" path="res://scenes/instances/playstate/ui.tscn" id="12_tmnnb"]

[node name="Thorns" type="Node2D"]
script = ExtResource("1_fcfx0")

[node name="PlayState Host" parent="." node_paths=PackedStringArray("host", "ui", "camera", "rating_position", "combo_position") instance=ExtResource("2_d5rna")]
process_mode = 1
host = NodePath("..")
ui = NodePath("../UI")
camera = NodePath("../Camera")
rating_position = NodePath("../World/Rating Marker")
combo_position = NodePath("../World/Combo Marker")
note_skin = ExtResource("4_8wb6g")
ui_skin = ExtResource("5_4pyv7")

[node name="Camera" parent="." instance=ExtResource("6_uhlqh")]
position = Vector2(641.5, 390.9)
position_smoothing_speed = 3.0

[node name="Stage" parent="." instance=ExtResource("7_ndkga")]
unique_name_in_owner = true

[node name="Player" parent="." instance=ExtResource("9_rpmc0")]
unique_name_in_owner = true
z_index = 1
position = Vector2(972, 678)
scale = Vector2(6, 6)

[node name="Enemy" parent="." instance=ExtResource("10_bowlb")]
unique_name_in_owner = true
z_index = 1
position = Vector2(344, 726)
scale = Vector2(6, 6)

[node name="Metronome" parent="." instance=ExtResource("11_vat3l")]
unique_name_in_owner = true
z_index = -1
position = Vector2(660, 670)
scale = Vector2(6, 6)

[node name="Conductor" type="Node" parent="."]
script = ExtResource("8_ijcj0")
stream_player = NodePath("")

[node name="World" type="CanvasLayer" parent="."]
layer = 10
follow_viewport_enabled = true

[node name="Position 1" type="Marker2D" parent="World"]
unique_name_in_owner = true
position = Vector2(743.5, 422.9)
gizmo_extents = 18.3

[node name="Position 2" type="Marker2D" parent="World"]
unique_name_in_owner = true
position = Vector2(554.5, 390.9)
gizmo_extents = 26.5

[node name="Position 3" type="Marker2D" parent="World"]
unique_name_in_owner = true
position = Vector2(641.5, 390.9)
gizmo_extents = 78.9

[node name="Rating Marker" type="Marker2D" parent="World"]
position = Vector2(832, 312)
gizmo_extents = 20.0

[node name="Combo Marker" type="Marker2D" parent="World"]
position = Vector2(940, 360)
gizmo_extents = 20.0

[node name="UI" parent="." instance=ExtResource("12_tmnnb")]

[connection signal="combo_break" from="PlayState Host" to="." method="_on_combo_break"]
[connection signal="create_note" from="PlayState Host" to="." method="_on_create_note"]
[connection signal="new_event" from="PlayState Host" to="." method="_on_new_event"]
[connection signal="new_beat" from="Conductor" to="." method="_on_conductor_new_beat"]
[connection signal="new_step" from="Conductor" to="." method="_on_conductor_new_step"]
